@page "/blogs"
@layout MainLayoutClient

<SeoHeaderComponent Title="Tin tức - Taxi Nam Thắng"
                    Description="Cập nhật tin tức, khuyến mãi và hoạt động mới nhất của Taxi Nam Thắng tại Kiên Giang, Rạch Giá, Hà Tiên, Phú Quốc, Vĩnh Long, Cần Thơ, Bạc Liêu, Cà Mau, An Giang và miền Tây."
                    Image="imgs/customers/homepage.jpg" Unrobots="false"/>

<section class="bg-gray-50 py-16">
    <div class="mx-auto max-w-7xl px-6">
        <h1 class="mb-12 text-center text-4xl font-bold text-gray-800 md:text-5xl">
            Tin tức & Sự kiện
        </h1>

        @if (posts == null)
        {
            <p class="text-center text-gray-500">Đang tải bài viết...</p>
        }
        else
        {
            <div class="grid gap-10 md:grid-cols-2 lg:grid-cols-3">
                @foreach (var post in posts)
                {
                    <a href="@($"/blog/{post.Slug}")"
                       class="group flex flex-col overflow-hidden rounded-2xl bg-white shadow transition duration-300 hover:shadow-xl">
                        <img src="@post.Image"
                             alt="@post.Title"
                             class="h-48 w-full object-cover transition-transform duration-500 group-hover:scale-105" />

                        <div class="flex flex-1 flex-col p-6">
                            <p class="text-sm text-gray-400">@post.Date.ToString("dd/MM/yyyy")</p>
                            <h2 class="mt-2 mb-2 line-clamp-2 text-xl font-semibold text-gray-800 group-hover:text-lime-600">
                                @post.Title
                            </h2>
                            <p class="line-clamp-3 flex-1 text-sm text-gray-600">@post.Description</p>

                            <div class="mt-4 text-sm font-semibold text-lime-600 hover:underline">
                                Đọc thêm →
                            </div>
                        </div>
                    </a>
                }
            </div>
        }
    </div>
</section>

@code {
    private List<Post>? posts;

    protected override async Task OnInitializedAsync()
    {
    }

    record Post(string Slug, string Title, string Description, string Image, DateTime Date);
}